<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ù¾Ø®Ø´ Ù…ÙˆØ§Ø¯ØºØ°Ø§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
  <style>
  /* ===== New Premium Font (Peyda) ===== */
  @font-face {
    font-family: "Peyda";
    src: url("https://cdn.font-store.ir/fonts/peyda/woff2/Peyda-Medium.woff2") format("woff2");
    font-weight: 500;
  }
  @font-face {
    font-family: "Peyda";
    src: url("https://cdn.font-store.ir/fonts/peyda/woff2/Peyda-Bold.woff2") format("woff2");
    font-weight: 700;
  }

  :root{
    --bg: #f4f7ff;
    --card: #ffffff;
    --muted: #7b8291;
    --primary: #6366f1; /* Indigo */
    --primary-dark: #4f46e5;
    --gold: #ffb300;
    --success: #22c55e;
    --danger: #ef4444;
    --glass: rgba(255,255,255,0.55);
    --radius: 14px;
    --shadow: 0 8px 30px rgba(0,0,0,0.08);
    --transition: 250ms cubic-bezier(.16,.8,.45,1);
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family: "Peyda", "Vazirmatn", system-ui;
    background: var(--bg);
    color: #0f172a;
    -webkit-font-smoothing: antialiased;
    line-height:1.7;
    direction:rtl;
  }

  /* ===== Header (Premium Gradient) ===== */
  .top-header{
    display:flex;align-items:center;justify-content:space-between;
    background: linear-gradient(135deg, #4f46e5, #6d28d9);
    padding:16px 22px;
    box-shadow:0 10px 25px rgba(79,70,229,0.25);
    border-bottom:3px solid #ffffff30;
    position:sticky;top:0;z-index:50;
    color:white;
  }
  .logo{
    font-size:22px;font-weight:700;color:white;
    text-shadow:0 2px 12px rgba(0,0,0,0.25);
  }

  .search-box input{
    padding:12px 18px;border-radius:999px;border:none;
    width:220px;max-width:100%;
    background:var(--glass);backdrop-filter:blur(12px);
    color:white;font-weight:500;
    transition:var(--transition);
  }
  .search-box input::placeholder{color:#e5e7eb}
  .search-box input:focus{
    background:white;color:#333;
    transform:translateY(-3px);
    box-shadow:0 10px 28px rgba(255,255,255,0.25);
  }

  .cart-btn{
    background:var(--gold);
    border:none;padding:12px 16px;border-radius:var(--radius);
    cursor:pointer;font-weight:700;color:#4d2f00;
    transition:var(--transition);
  }
  .cart-btn:hover{transform:scale(.93) rotate(-2deg)}

  /* ===== Category Buttons ===== */
  .cat-bar{padding:14px 22px}
  .cat-scroll{display:flex;gap:12px;overflow:auto;padding:6px}

  .cat-item{
    padding:10px 16px;border-radius:999px;
    background:white;border:2px solid #e0e7ff;
    cursor:pointer;font-weight:500;
    transition:var(--transition);
  }
  .cat-item:hover{transform:translateY(-4px);box-shadow:0 10px 25px rgba(0,0,0,0.06)}
  .cat-item.active{background:var(--primary);color:white;border-color:var(--primary)}

  /* ===== Product Cards ===== */
  .container{padding:22px}
  .grid{display:grid;gap:22px;grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}

  .card{
    background:var(--card);border-radius:var(--radius);
    padding:16px;box-shadow:var(--shadow);
    transition:var(--transition);position:relative;overflow:hidden;
  }
  .card:hover{
    transform:translateY(-6px) scale(1.02);
    box-shadow:0 15px 40px rgba(0,0,0,0.12);
  }

  .card::after{
    content:"";position:absolute;inset:0;border-radius:inherit;
    background:radial-gradient(circle at top, rgba(99,102,241,0.12), transparent 70%);
    opacity:0;transition:var(--transition);
  }
  .card:hover::after{opacity:1}

  .img-box img{
    width:100%;height:150px;object-fit:cover;border-radius:12px;
    transition:var(--transition);
  }
  .card:hover .img-box img{transform:scale(1.08)}

  .buy-btn{
    width:100%;padding:12px;border:none;border-radius:12px;
    background:var(--success);color:white;font-weight:700;font-size:15px;
    cursor:pointer;transition:var(--transition);
  }
  .buy-btn:hover{transform:translateY(-3px);filter:brightness(1.15)}

  /* ===== Admin Buttons ===== */
  .admin-actions{display:flex;gap:10px;margin-top:12px}
  .admin-btn{flex:1;padding:10px;border-radius:10px;border:none;color:white;cursor:pointer;font-weight:600;transition:var(--transition)}
  .admin-btn:hover{transform:translateY(-3px)}
  .admin-btn.edit{background:var(--primary)}
  .admin-btn.del{background:var(--danger)}

  /* ===== Admin Panel ===== */
  #adminPanel{
    position:fixed;top:0;left:0;
    width:360px;height:100vh;padding:22px;
    background:linear-gradient(175deg,#0f172a,#1e293b);
    color:white;transform:translateX(-110%);
    transition:var(--transition);z-index:80;
    box-shadow:24px 0 60px rgba(0,0,0,0.4);
  }
  #adminPanel.open{transform:translateX(0)}

  .admin-input{
    width:100%;padding:12px;border-radius:12px;border:none;
    background:rgba(255,255,255,0.08);color:white;
    margin:10px 0;font-size:14px;
    transition:var(--transition);
  }
  .admin-input:focus{background:rgba(255,255,255,0.18)}

  .admin-btn-full{
    width:100%;padding:12px;border:none;border-radius:12px;
    background:var(--primary);font-weight:700;color:white;
    cursor:pointer;transition:var(--transition);
  }
  .admin-btn-full:hover{background:var(--primary-dark);transform:translateY(-3px)}

  /* ===== Floating buttons ===== */
  #adminLoginBtn,#adminToggle{
    position:fixed;bottom:20px;padding:14px 16px;
    border-radius:50px;border:none;cursor:pointer;
    font-weight:700;transition:var(--transition);
    box-shadow:0 6px 20px rgba(0,0,0,0.15);
  }
  #adminLoginBtn{right:20px;background:#0f172a;color:white}
  #adminToggle{left:20px;background:#ffd166;color:black}
  #adminLoginBtn:hover,#adminToggle:hover{transform:scale(.92)}

  /* ===== Card Entrance Animation ===== */
  .card{opacity:0;transform:translateY(20px);animation:fadeUp .45s forwards ease}
  @keyframes fadeUp{to{opacity:1;transform:none}}

  /* ===== Responsive ===== */
  @media(max-width:600px){
    #adminPanel{width:92vw}
    .grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
    .top-header{flex-direction:column;gap:10px}
    .search-box input{width:100%}
  }
</style>
</head>
<body>
  <header class="top-header">
    <div class="logo">Ù¾Ø®Ø´ Ù…ÙˆØ§Ø¯ØºØ°Ø§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</div>
    <div class="search-box"><input id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„"></div>
    <button class="cart-btn">ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
  </header>

  <div class="cat-bar">
    <div class="cat-scroll">
      <button class="cat-item active" data-cat="all">Ù‡Ù…Ù‡</button>
      <button class="cat-item" data-cat="drinks">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ</button>
      <button class="cat-item" data-cat="snacks">ØªÙ†Ù‚Ù„Ø§Øª</button>
      <button class="cat-item" data-cat="food">Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ</button>
    </div>
  </div>

  <main class="container">
    <div id="productGrid" class="grid"></div>
  </main>

  <button id="adminLoginBtn">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
  <button id="adminToggle">Ø§Ø¯Ù…ÛŒÙ†</button>

  <aside id="adminPanel" aria-hidden="true">
    <h2>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
    <div class="small">Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø§Ø² Ø¯Ú©Ù…Ù‡ Â«ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†Â» Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ (Ø±Ù…Ø²:b1111i)</div>
    <label>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label>
    <input id="pTitle" class="admin-input" type="text" placeholder="Ù…Ø«Ø§Ù„: Monster Loco">
    <label>ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
    <input id="pDesc" class="admin-input" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø²Ø§">
    <label>Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³:</label>
    <input id="pImg" class="admin-input" type="text" placeholder="https://...">
    <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
    <input id="pCat" class="admin-input" type="text" placeholder="drinks / snacks / food">

    <button id="adminAddBtn" class="admin-btn-full">â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„</button>
    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.06);margin:12px 0">
    <button id="adminLogoutBtn" style="width:100%;padding:10px;border-radius:8px;border:none;background:#d32f2f;color:#fff;">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø§Ø¯Ù…ÛŒÙ†</button>
  </aside>

  <script>
  // ØªÙ…Ø§Ù… Ú©Ø¯Ù‡Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ DOM Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
  document.addEventListener('DOMContentLoaded', ()=>{
    // Ø­Ø§Ù„Øª Ùˆ Ø¯Ø§Ø¯Ù‡
    let isAdmin = false;
    let editIndex = -1;

    // products: Ø§Ø² localStorage Ù„ÙˆØ¯ Ø´ÙˆØ¯ ÛŒØ§ Ø¯Ø§Ø¯Ù‡Ù” Ø§ÙˆÙ„ÛŒÙ‡
    let products = [];
    try{
      const raw = localStorage.getItem('products');
      products = raw ? JSON.parse(raw) : [
        {title:'Monster Loco', desc:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø²Ø§', img:'https://arazkala.com/wp-content/uploads/2021/11/monster-mango-loco.jpg', category:'drinks'},
        {title:'Ú©ÛŒØªâ€ŒÚ©Øª Ú˜Ø§Ù¾Ù†ÛŒ', desc:'ØªÙ†Ù‚Ù„Ø§Øª Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/04/kitkat.jpg', category:'snacks'},
        {title:'ÙØ§Ù†ØªØ§ Ø¢Ù„Ù…Ø§Ù†ÛŒ', desc:'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/05/fanta-orange.jpg', category:'drinks'},
        {title:'Ú†ÛŒÙ¾Ø³ Ù„ÛŒØ² Ú†Ø¯Ø§Ø±', desc:'Ù…Ø­ØµÙˆÙ„ ØªØ±Ú©ÛŒÙ‡', img:'https://arazkala.com/wp-content/uploads/2021/11/lays-cheese.jpg', category:'snacks'}
      ];
    }catch(e){ products = []; }

    // Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§
    const adminPanel = document.getElementById('adminPanel');
    const adminToggle = document.getElementById('adminToggle');
    const adminLoginBtn = document.getElementById('adminLoginBtn');
    const adminAddBtn = document.getElementById('adminAddBtn');
    const adminLogoutBtn = document.getElementById('adminLogoutBtn');
    const pTitle = document.getElementById('pTitle');
    const pDesc = document.getElementById('pDesc');
    const pImg = document.getElementById('pImg');
    const pCat = document.getElementById('pCat');
    const search = document.getElementById('search');

    // Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ
    function saveLocal(){
      try{ localStorage.setItem('products', JSON.stringify(products)); }
      catch(e){ console.error('localStorage error', e); }
    }

    // Ø±Ù†Ø¯Ø±
    function render(cat='all'){
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';

      products.forEach((p,i)=>{
        if(cat !== 'all' && p.category !== cat) return;

        const card = document.createElement('div');
        card.className = 'card';

        const imgBox = document.createElement('div');
        imgBox.className = 'img-box';
        const img = document.createElement('img'); img.src = p.img || ''; img.alt = p.title || '';
        imgBox.appendChild(img);

        const h3 = document.createElement('h3'); h3.textContent = p.title || '';
        const pEl = document.createElement('p'); pEl.textContent = p.desc || '';
        const buy = document.createElement('button'); buy.className = 'buy-btn'; buy.textContent = 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯';

        card.appendChild(imgBox);
        card.appendChild(h3);
        card.appendChild(pEl);
        card.appendChild(buy);

        if(isAdmin){
          const actions = document.createElement('div'); actions.className = 'admin-actions';
          const btnEdit = document.createElement('button'); btnEdit.className = 'admin-btn'; btnEdit.style.background = 'var(--accent)'; btnEdit.textContent = 'âœ ÙˆÛŒØ±Ø§ÛŒØ´';
          btnEdit.dataset.index = i;
          btnEdit.addEventListener('click', ()=> startEdit(i));

          const btnDel = document.createElement('button'); btnDel.className = 'admin-btn'; btnDel.style.background = 'var(--danger)'; btnDel.textContent = 'ğŸ—‘ Ø­Ø°Ù';
          btnDel.dataset.index = i;
          btnDel.addEventListener('click', ()=> deleteProduct(i));

          actions.appendChild(btnEdit); actions.appendChild(btnDel);
          card.appendChild(actions);
        }

        grid.appendChild(card);
      });
    }

    // Ø´Ø±ÙˆØ¹ ÙˆÛŒØ±Ø§ÛŒØ´
    function startEdit(i){
      const item = products[i];
      if(!item) return;
      pTitle.value = item.title; pDesc.value = item.desc; pImg.value = item.img; pCat.value = item.category;
      editIndex = i;
      adminAddBtn.textContent = 'âœ” Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª';
      adminPanel.classList.add('open');
    }

    // Ø§ÙØ²ÙˆØ¯Ù†/Ø°Ø®ÛŒØ±Ù‡
    adminAddBtn.addEventListener('click', ()=>{
      const t = pTitle.value.trim();
      const d = pDesc.value.trim();
      const i = pImg.value.trim();
      const c = pCat.value.trim();
      if(!t || !d || !i || !c){ alert('Ù„Ø·ÙØ§ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯'); return; }

      if(editIndex === -1){
        products.push({title:t,desc:d,img:i,category:c});
        saveLocal();
        render();
        alert('Ù…Ø­ØµÙˆÙ„ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
      } else {
        products[editIndex] = {title:t,desc:d,img:i,category:c};
        saveLocal();
        render();
        alert('ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!');
      }

      // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ÙØ±Ù… Ø§Ù…Ø§ Ù¾Ù†Ù„ Ø¨Ø§Ø² Ø¨Ù…Ø§Ù†Ø¯
      pTitle.value = ''; pDesc.value = ''; pImg.value = ''; pCat.value = ''; editIndex = -1; adminAddBtn.textContent = 'â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„';
    });

    // Ø­Ø°Ù
    function deleteProduct(i){
      if(confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ')){
        products.splice(i,1);
        saveLocal();
        render();
      }
    }

    // ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†
    adminLoginBtn.addEventListener('click', ()=>{
      const pass = prompt('Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:');
      if(pass === 'behzad1142zamani'){
        isAdmin = true; adminPanel.classList.add('open'); render(); alert('ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚!');
      } else alert('Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
    });

    // Ø®Ø±ÙˆØ¬
    adminLogoutBtn.addEventListener('click', ()=>{
      isAdmin = false; adminPanel.classList.remove('open'); render();
    });

    // Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡ Ù¾Ù†Ù„
    adminToggle.addEventListener('click', ()=>{
      if(!isAdmin){ alert('Ø´Ù…Ø§ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ³ØªÛŒØ¯!'); return; }
      adminPanel.classList.toggle('open');
    });

    // Ø¬Ø³ØªØ¬Ùˆ
    search.addEventListener('input', function(){
      const q = this.value.toLowerCase();
      document.querySelectorAll('.card').forEach(card=>{
        const title = (card.querySelector('h3')||{textContent:''}).textContent.toLowerCase();
        card.style.display = title.includes(q) ? 'block' : 'none';
      });
    });

    // Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ
    document.querySelectorAll('.cat-item').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.cat-item').forEach(x=>x.classList.remove('active'));
        btn.classList.add('active');
        render(btn.dataset.cat);
      });
    });

    // Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡
    render();
  });
  </script>
</body>
</html>
