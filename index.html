<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø²Ù…Ø§Ù†ÛŒ | Ù†Ø³Ø®Ù‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<style>
  body{font-family: 'Vazirmatn', sans-serif; margin:0; padding:0;}
  .top-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.06)}
  .logo{font-weight:700}
  .search-box input{padding:8px 10px;border-radius:8px;border:1px solid #ddd}
  .cart-btn{background:#ffeb3b;border:none;padding:8px 12px;border-radius:8px}
  .cat-bar{background:#fafafa;padding:8px}
  .cat-scroll{display:flex;gap:8px;overflow-x:auto;padding:6px}
  .cat-item{padding:8px 12px;border-radius:8px;background:#fff;border:1px solid #eee;cursor:pointer}
  .cat-item.active{background:#2196f3;color:#fff}
  .container{padding:16px}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
  .card{background:#fff;padding:12px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.05)}
  .img-box img{width:100%;height:120px;object-fit:cover;border-radius:8px}
  .buy-btn{width:100%;padding:8px;margin-top:8px;border:none;border-radius:8px;background:#4caf50;color:#fff}
  .admin-btn{width:48%;padding:8px;margin-top:6px;border:none;border-radius:8px;color:#fff;cursor:pointer}

  /* Ø³Ø¨Ú© Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù„ */
  #adminPanel {
    position: fixed;
    top: 0;
    left: 0;
    width: 320px;
    height: 100vh;
    background: #222;
    color: #fff;
    padding: 20px;
    transform: translateX(-100%);
    transition: .3s;
    z-index: 9999;
    overflow-y: auto;
  }
  #adminPanel.open { transform: translateX(0); }
  #adminToggle {
    position: fixed;
    bottom: 20px;
    left: 20px;
    padding: 10px 18px;
    background: #ff9800;
    color: #000;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    z-index: 10000;
  }
  .admin-input { width: 100%; padding: 8px; margin: 5px 0; border-radius: 8px; border: none; }
  .admin-btn-full { width: 100%; padding: 10px; background: #4caf50; border: none; border-radius: 10px; color: #fff; cursor: pointer; margin-top: 8px; }
</style>
</head>
<body>

<header class="top-header">
  <div class="logo">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø²Ù…Ø§Ù†ÛŒ</div>
  <div class="search-box">
    <input type="text" id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„">
  </div>
  <button class="cart-btn"><span>ğŸ›’</span> Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
</header>

<!-- Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ† -->
<button onclick="loginAdmin()" id="adminLoginBtn"
style="position:fixed;bottom:20px;right:20px;padding:10px 15px;border:none;border-radius:10px;background:#000;color:#fff;z-index:9999">
ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†
</button>

<div class="cat-bar">
  <div class="cat-scroll">
    <button class="cat-item active" data-cat="all">Ù‡Ù…Ù‡</button>
    <button class="cat-item" data-cat="drinks">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ</button>
    <button class="cat-item" data-cat="snacks">ØªÙ†Ù‚Ù„Ø§Øª</button>
    <button class="cat-item" data-cat="food">Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ</button>
  </div>
</div>

<div class="container">
  <div id="productGrid" class="grid"></div>
</div>

<!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ -->
<button id="adminToggle">Ø§Ø¯Ù…ÛŒÙ†</button>

<!-- Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† -->
<div id="adminPanel">
  <h2>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
  <label>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label>
  <input id="pTitle" class="admin-input" type="text">

  <label>ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
  <input id="pDesc" class="admin-input" type="text">

  <label>Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³:</label>
  <input id="pImg" class="admin-input" type="text">

  <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
  <input id="pCat" class="admin-input" type="text" placeholder="drinks / snacks / food">

  <button id="adminAddBtn" class="admin-btn-full">â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„</button>
</div>

<script>
// ===== Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ø­Ø§Ù„Øª Ø§Ø¯Ù…ÛŒÙ† =====
let isAdmin = false;
let products = [
  {title:'Monster Loco', desc:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø²Ø§', img:'https://arazkala.com/wp-content/uploads/2021/11/monster-mango-loco.jpg', category:'drinks'},
  {title:'Ú©ÛŒØªâ€ŒÚ©Øª Ú˜Ø§Ù¾Ù†ÛŒ', desc:'ØªÙ†Ù‚Ù„Ø§Øª Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/04/kitkat.jpg', category:'snacks'},
  {title:'ÙØ§Ù†ØªØ§ Ø¢Ù„Ù…Ø§Ù†ÛŒ', desc:'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/05/fanta-orange.jpg', category:'drinks'},
  {title:'Ú†ÛŒÙ¾Ø³ Ù„ÛŒØ² Ú†Ø¯Ø§Ø±', desc:'Ù…Ø­ØµÙˆÙ„ ØªØ±Ú©ÛŒÙ‡', img:'https://arazkala.com/wp-content/uploads/2021/11/lays-cheese.jpg', category:'snacks'}
];

// Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§
const adminPanel = document.getElementById("adminPanel");
const adminToggle = document.getElementById("adminToggle");
const adminAddBtn = document.getElementById("adminAddBtn");
const pTitle = document.getElementById("pTitle");
const pDesc = document.getElementById("pDesc");
const pImg = document.getElementById("pImg");
const pCat = document.getElementById("pCat");
const search = document.getElementById("search");

let editIndex = -1; // -1 means adding new

// ===== ØªØ§Ø¨Ø¹ Ø±Ù†Ø¯Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª =====
function render(cat = "all") {
  const grid = document.getElementById("productGrid");
  grid.innerHTML = "";

  products.forEach((p, i) => {
    if (cat === "all" || p.category === cat) {
      let adminButtons = isAdmin
        ? `<div style='display:flex;gap:6px;margin-top:6px'>
             <button class='admin-btn' style='background:#2196f3' onclick='editProduct(${i})'>âœ ÙˆÛŒØ±Ø§ÛŒØ´</button>
             <button class='admin-btn' style='background:#f44336' onclick='deleteProduct(${i})'>ğŸ—‘ Ø­Ø°Ù</button>
           </div>`
        : "";

      grid.innerHTML += `
        <div class='card'>
          <div class='img-box'><img src='${p.img}' alt='${p.title}'></div>
          <h3>${p.title}</h3>
          <p>${p.desc}</p>
          <button class='buy-btn'>Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯</button>
          ${adminButtons}
        </div>`;
    }
  });
}

// ===== ÙˆØ±ÙˆØ¯ Ø³Ø§Ø¯Ù‡ Ø§Ø¯Ù…ÛŒÙ† =====
function loginAdmin(){
    let pass = prompt("Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:");
    if(pass === "behzad1142zamani"){
        isAdmin = true;
        alert("ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚!");
        adminPanel.classList.add('open');
        render();
    } else {
        alert("Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.");
    }
}

// ===== Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ ØªÙˆØ³Ø· Ø¯Ú©Ù…Ù‡ Ø§Ø¯Ù…ÛŒÙ† (ÙÙ‚Ø· Ø¯Ø± ØµÙˆØ±Øª ÙˆØ±ÙˆØ¯) =====
adminToggle.onclick = ()=>{
  if(!isAdmin) return alert("Ø´Ù…Ø§ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ³ØªÛŒØ¯!");
  adminPanel.classList.toggle("open");
};

// ===== ØªØ§Ø¨Ø¹ Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ ÙØ±Ù… =====
function clearForm(){
  pTitle.value = "";
  pDesc.value = "";
  pImg.value = "";
  pCat.value = "";
  editIndex = -1;
  adminAddBtn.textContent = 'â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„';
}

// ===== Ø§ÙØ²ÙˆØ¯Ù† ÛŒØ§ Ø°Ø®ÛŒØ±Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´ =====
adminAddBtn.addEventListener('click', ()=>{
  let t = pTitle.value.trim();
  let d = pDesc.value.trim();
  let i = pImg.value.trim();
  let c = pCat.value.trim();

  if(!t || !d || !i || !c){
    alert("Ù„Ø·ÙØ§ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯");
    return;
  }

  if(editIndex === -1){
    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù†
    products.push({title:t,desc:d,img:i,category:c});
    alert('Ù…Ø­ØµÙˆÙ„ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
  } else {
    // Ø°Ø®ÛŒØ±Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´
    products[editIndex] = {title:t,desc:d,img:i,category:c};
    alert('ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!');
  }

  clearForm();
  render();
});

// ===== Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„ =====
function deleteProduct(i){
  if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ")){
    products.splice(i,1);
    render();
  }
}

// ===== ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„ =====
function editProduct(i){
  let p = products[i];
  pTitle.value = p.title;
  pDesc.value = p.desc;
  pImg.value = p.img;
  pCat.value = p.category;
  editIndex = i;
  adminPanel.classList.add('open');
  adminAddBtn.textContent = 'âœ” Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª';
}

// ===== Ø¬Ø³ØªØ¬Ùˆ =====
search.addEventListener("input", function(){
  const q = this.value.toLowerCase();
  document.querySelectorAll(".card").forEach(card=>{
    const title = card.querySelector("h3").textContent.toLowerCase();
    card.style.display = title.includes(q) ? "block" : "none";
  });
});

// ===== Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ =====
document.querySelectorAll(".cat-item").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    document.querySelectorAll(".cat-item").forEach(x=>x.classList.remove("active"));
    btn.classList.add("active");
    render(btn.dataset.cat);
  });
});

// Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡
render();
</script>

</body>
</html>