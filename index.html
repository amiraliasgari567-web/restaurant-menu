<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ù¾Ø®Ø´ Ù…ÙˆØ§Ø¯ØºØ°Ø§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
  <style>
  /* ===== Modern Blue Theme (Option: C-style, Blue #0EA5E9, Style B Professional Store) ===== */
  @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');

  :root{
    --primary:#0EA5E9; /* Turquoise Blue */
    --primary-dark:#0284C7;
    --primary-light:#7DD3FC;

    --bg:#F8FAFC;        /* clean white-blue */
    --card:#FFFFFF;
    --muted:#64748B;     /* slate */
    --radius:14px;
    --shadow:0 4px 18px rgba(2,132,199,0.15);
    --shadow-hover:0 12px 32px rgba(14,165,233,0.25);
    --transition:240ms cubic-bezier(.25,.8,.25,1);
  }

  *{margin:0;padding:0;box-sizing:border-box}
  body{
    font-family:"Vazirmatn",sans-serif;
    background:var(--bg);
    color:#1e293b;
    direction:rtl;line-height:1.7;
  }

  /* Header */
  .top-header{
    display:flex;justify-content:space-between;align-items:center;
    padding:16px 22px;
    background:linear-gradient(135deg,var(--primary),var(--primary-dark));
    color:white;
    box-shadow:0 4px 24px rgba(14,165,233,0.35);
  }
  .logo{font-size:20px;font-weight:700;letter-spacing:0.3px}

  .search-box input{
    width:260px;padding:10px 14px;border:none;border-radius:999px;
    background:white;color:#475569;
    box-shadow:0 4px 16px rgba(0,0,0,0.05);
    transition:var(--transition);
  }
  .search-box input:focus{outline:none;transform:translateY(-3px);box-shadow:0 6px 22px rgba(14,165,233,0.25)}

  .cart-btn{
    background:var(--primary-light);border:none;padding:10px 14px;
    border-radius:var(--radius);cursor:pointer;font-weight:600;color:#0c4a6e;
    transition:var(--transition);
  }
  .cart-btn:hover{transform:translateY(-3px);box-shadow:var(--shadow-hover)}

  /* Categories */
  .cat-bar{padding:16px 22px}
  .cat-scroll{display:flex;gap:12px;overflow-x:auto;padding:6px}
  .cat-item{
    background:white;padding:8px 16px;border-radius:999px;
    border:2px solid var(--primary-light);color:var(--primary-dark);
    cursor:pointer;font-weight:500;
    transition:var(--transition);
  }
  .cat-item:hover{transform:translateY(-4px);box-shadow:0 6px 22px rgba(0,0,0,0.07)}
  .cat-item.active{
    background:var(--primary);color:white;border-color:var(--primary);
    box-shadow:var(--shadow-hover);
  }

  /* Grid */
  .container{padding:22px}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:20px}

  .card{
    background:var(--card);padding:16px;border-radius:var(--radius);
    box-shadow:var(--shadow);
    transition:var(--transition);
  }
  .card:hover{transform:translateY(-6px);box-shadow:var(--shadow-hover)}

  .img-box img{
    width:100%;height:150px;object-fit:cover;border-radius:12px;
    transition:var(--transition);
  }
  .card:hover .img-box img{transform:scale(1.05)}

  .card h3{margin:10px 0 6px;font-size:16px;font-weight:600;color:#1e293b}
  .card p{font-size:13px;color:var(--muted)}

  .buy-btn{
    width:100%;padding:11px;border-radius:12px;border:none;
    background:var(--primary);
    color:white;font-weight:700;font-size:14px;
    cursor:pointer;transition:var(--transition);
  }
  .buy-btn:hover{transform:translateY(-3px);box-shadow:var(--shadow-hover)}

  /* Admin Buttons */
  .admin-actions{
    display:flex !important;
    gap:10px;
    margin-top:12px;
    justify-content:space-between;
  }
  .admin-btn{
    flex:1;
    padding:10px;
    border:none;
    border-radius:10px;
    font-weight:700;
    cursor:pointer;
    transition:var(--transition);
    display:block;
    text-align:center;
    border:2px solid #fff; /* visibility boost */
  }
  .admin-btn.edit{
    background:var(--primary-dark);
    color:white;
  }
  .admin-btn.del{
    background:#ef4444;
    color:white;
  }
  .admin-btn:hover{transform:translateY(-3px)}

  /* Admin Panel */
  #adminPanel{
    position:fixed;top:0;left:0;width:360px;height:100vh;
    background:white;padding:22px;
    box-shadow:20px 0 40px rgba(0,0,0,0.15);
    transform:translateX(-110%);
    transition:var(--transition);
    z-index:200;
  }
  #adminPanel.open{transform:translateX(0)}

  .admin-input{
    width:100%;padding:12px;border-radius:10px;border:1px solid #e2e8f0;
    background:white;color:#334155;margin:10px 0;
    transition:var(--transition);
  }
  .admin-input:focus{outline:none;border-color:var(--primary);box-shadow:0 4px 14px rgba(14,165,233,0.25)}

  .admin-btn-full{
    width:100%;padding:12px;border:none;border-radius:12px;
    background:var(--primary);
    color:white;font-weight:700;transition:var(--transition);
  }
  .admin-btn-full:hover{background:var(--primary-dark);transform:translateY(-3px)}

  /* Floating admin buttons */
  #adminLoginBtn,#adminToggle{
    position:fixed;bottom:22px;padding:12px 16px;border-radius:999px;
    border:none;cursor:pointer;font-weight:700;z-index:250;
    color:white;box-shadow:var(--shadow);
    transition:var(--transition);
  }
  #adminLoginBtn{right:20px;background:var(--primary)}
  #adminToggle{left:20px;background:var(--primary-dark)}
  #adminLoginBtn:hover,#adminToggle:hover{transform:translateY(-3px);box-shadow:var(--shadow-hover)}

  /* Animations */
  .card{opacity:0;transform:translateY(12px);animation:fadeUp .45s forwards ease}
  @keyframes fadeUp{to{opacity:1;transform:none}}

  @media(max-width:600px){#adminPanel{width:92vw}}
</style>
</head>
<body>
  <header class="top-header">
    <div class="logo">Ù¾Ø®Ø´ Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ Ø²Ù…Ø§Ù†ÛŒ</div>
    <div class="search-box"><input id="search" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„"></div>
    <button class="cart-btn">ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
  </header>

  <div class="cat-bar">
    <div class="cat-scroll">
      <button class="cat-item active" data-cat="all">Ù‡Ù…Ù‡</button>
      <button class="cat-item" data-cat="drinks">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ</button>
      <button class="cat-item" data-cat="snacks">ØªÙ†Ù‚Ù„Ø§Øª</button>
      <button class="cat-item" data-cat="food">Ù…ÙˆØ§Ø¯ ØºØ°Ø§ÛŒÛŒ</button>
    </div>
  </div>

  <main class="container">
    <div id="productGrid" class="grid"></div>
  </main>

  <button id="adminLoginBtn">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
  <button id="adminToggle">Ø§Ø¯Ù…ÛŒÙ†</button>

  <aside id="adminPanel" aria-hidden="true">
    <h2>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
    <div class="small">Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø§Ø² Ø¯Ú©Ù…Ù‡ Â«ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†Â» Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ (Ø±Ù…Ø²: 1234)</div>
    <label>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label>
    <input id="pTitle" class="admin-input" type="text" placeholder="Ù…Ø«Ø§Ù„: Monster Loco">
    <label>ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
    <input id="pDesc" class="admin-input" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø²Ø§">
    <label>Ù„ÛŒÙ†Ú© Ø¹Ú©Ø³:</label>
    <input id="pImg" class="admin-input" type="text" placeholder="https://...">
    <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
    <input id="pCat" class="admin-input" type="text" placeholder="drinks / snacks / food">

    <button id="adminAddBtn" class="admin-btn-full">â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„</button>
    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.06);margin:12px 0">
    <button id="adminLogoutBtn" style="width:100%;padding:10px;border-radius:8px;border:none;background:#d32f2f;color:#fff;">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø§Ø¯Ù…ÛŒÙ†</button>
  </aside>

  <script>
  // ØªÙ…Ø§Ù… Ú©Ø¯Ù‡Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ DOM Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
  document.addEventListener('DOMContentLoaded', ()=>{
    // Ø­Ø§Ù„Øª Ùˆ Ø¯Ø§Ø¯Ù‡
    let isAdmin = false;
    let editIndex = -1;

    // products: Ø§Ø² localStorage Ù„ÙˆØ¯ Ø´ÙˆØ¯ ÛŒØ§ Ø¯Ø§Ø¯Ù‡Ù” Ø§ÙˆÙ„ÛŒÙ‡
    let products = [];
    try{
      const raw = localStorage.getItem('products');
      products = raw ? JSON.parse(raw) : [
        {title:'Monster Loco', desc:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø§Ù†Ø±Ú˜ÛŒ Ø²Ø§', img:'https://arazkala.com/wp-content/uploads/2021/11/monster-mango-loco.jpg', category:'drinks'},
        {title:'Ú©ÛŒØªâ€ŒÚ©Øª Ú˜Ø§Ù¾Ù†ÛŒ', desc:'ØªÙ†Ù‚Ù„Ø§Øª Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/04/kitkat.jpg', category:'snacks'},
        {title:'ÙØ§Ù†ØªØ§ Ø¢Ù„Ù…Ø§Ù†ÛŒ', desc:'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ø®Ø§Ø±Ø¬ÛŒ', img:'https://arazkala.com/wp-content/uploads/2021/05/fanta-orange.jpg', category:'drinks'},
        {title:'Ú†ÛŒÙ¾Ø³ Ù„ÛŒØ² Ú†Ø¯Ø§Ø±', desc:'Ù…Ø­ØµÙˆÙ„ ØªØ±Ú©ÛŒÙ‡', img:'https://arazkala.com/wp-content/uploads/2021/11/lays-cheese.jpg', category:'snacks'}
      ];
    }catch(e){ products = []; }

    // Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§
    const adminPanel = document.getElementById('adminPanel');
    const adminToggle = document.getElementById('adminToggle');
    const adminLoginBtn = document.getElementById('adminLoginBtn');
    const adminAddBtn = document.getElementById('adminAddBtn');
    const adminLogoutBtn = document.getElementById('adminLogoutBtn');
    const pTitle = document.getElementById('pTitle');
    const pDesc = document.getElementById('pDesc');
    const pImg = document.getElementById('pImg');
    const pCat = document.getElementById('pCat');
    const search = document.getElementById('search');

    // Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­Ù„ÛŒ
    function saveLocal(){
      try{ localStorage.setItem('products', JSON.stringify(products)); }
      catch(e){ console.error('localStorage error', e); }
    }

    // Ø±Ù†Ø¯Ø±
    function render(cat='all'){
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';

      products.forEach((p,i)=>{
        if(cat !== 'all' && p.category !== cat) return;

        const card = document.createElement('div');
        card.className = 'card';

        const imgBox = document.createElement('div');
        imgBox.className = 'img-box';
        const img = document.createElement('img'); img.src = p.img || ''; img.alt = p.title || '';
        imgBox.appendChild(img);

        const h3 = document.createElement('h3'); h3.textContent = p.title || '';
        const pEl = document.createElement('p'); pEl.textContent = p.desc || '';
        const buy = document.createElement('button'); buy.className = 'buy-btn'; buy.textContent = 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯';

        card.appendChild(imgBox);
        card.appendChild(h3);
        card.appendChild(pEl);
        card.appendChild(buy);

        if(isAdmin){
          const actions = document.createElement('div'); actions.className = 'admin-actions';
          const btnEdit = document.createElement('button'); btnEdit.className = 'admin-btn'; btnEdit.style.background = 'var(--accent)'; btnEdit.textContent = 'âœ ÙˆÛŒØ±Ø§ÛŒØ´';
          btnEdit.dataset.index = i;
          btnEdit.addEventListener('click', ()=> startEdit(i));

          const btnDel = document.createElement('button'); btnDel.className = 'admin-btn'; btnDel.style.background = 'var(--danger)'; btnDel.textContent = 'ğŸ—‘ Ø­Ø°Ù';
          btnDel.dataset.index = i;
          btnDel.addEventListener('click', ()=> deleteProduct(i));

          actions.appendChild(btnEdit); actions.appendChild(btnDel);
          card.appendChild(actions);
        }

        grid.appendChild(card);
      });
    }

    // Ø´Ø±ÙˆØ¹ ÙˆÛŒØ±Ø§ÛŒØ´
    function startEdit(i){
      const item = products[i];
      if(!item) return;
      pTitle.value = item.title; pDesc.value = item.desc; pImg.value = item.img; pCat.value = item.category;
      editIndex = i;
      adminAddBtn.textContent = 'âœ” Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª';
      adminPanel.classList.add('open');
    }

    // Ø§ÙØ²ÙˆØ¯Ù†/Ø°Ø®ÛŒØ±Ù‡
    adminAddBtn.addEventListener('click', ()=>{
      const t = pTitle.value.trim();
      const d = pDesc.value.trim();
      const i = pImg.value.trim();
      const c = pCat.value.trim();
      if(!t || !d || !i || !c){ alert('Ù„Ø·ÙØ§ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯'); return; }

      if(editIndex === -1){
        products.push({title:t,desc:d,img:i,category:c});
        saveLocal();
        render();
        alert('Ù…Ø­ØµÙˆÙ„ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!');
      } else {
        products[editIndex] = {title:t,desc:d,img:i,category:c};
        saveLocal();
        render();
        alert('ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!');
      }

      // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ÙØ±Ù… Ø§Ù…Ø§ Ù¾Ù†Ù„ Ø¨Ø§Ø² Ø¨Ù…Ø§Ù†Ø¯
      pTitle.value = ''; pDesc.value = ''; pImg.value = ''; pCat.value = ''; editIndex = -1; adminAddBtn.textContent = 'â• Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø­ØµÙˆÙ„';
    });

    // Ø­Ø°Ù Ø¨Ø§ event delegation Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø§Ø±Ù†Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡
  document.getElementById('productGrid').addEventListener('click', (e)=>{
    if(e.target.closest('[data-delete]')){
      const idx = Number(e.target.closest('[data-delete]').dataset.delete);
      deleteProduct(idx);
    }
    if(e.target.closest('[data-edit]')){
      const idx = Number(e.target.closest('[data-edit]').dataset.edit);
      startEdit(idx);
    }
  });

  // Ø­Ø°Ù Ù‚Ø¯ÛŒÙ…ÛŒ (Ø¯ÛŒÚ¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯)
  function deleteProduct(i){
    if(confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ')){
      products.splice(i,1);
      saveLocal();
      render();
    }
  }

    function deleteProduct(i){
      if(confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ')){
        products.splice(i,1);
        saveLocal();
        render();
      }
    }

    // ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†
    adminLoginBtn.addEventListener('click', ()=>{
      const pass = prompt('Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:');
      if(pass === 'behzad1142zamani'){
        isAdmin = true; adminPanel.classList.add('open'); render(); alert('ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚!');
      } else alert('Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
    });

    // Ø®Ø±ÙˆØ¬
    adminLogoutBtn.addEventListener('click', ()=>{
      isAdmin = false; adminPanel.classList.remove('open'); render();
    });

    // Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡ Ù¾Ù†Ù„
    adminToggle.addEventListener('click', ()=>{
      if(!isAdmin){ alert('Ø´Ù…Ø§ Ø§Ø¯Ù…ÛŒÙ† Ù†ÛŒØ³ØªÛŒØ¯!'); return; }
      adminPanel.classList.toggle('open');
    });

    // Ø¬Ø³ØªØ¬Ùˆ
    search.addEventListener('input', function(){
      const q = this.value.toLowerCase();
      document.querySelectorAll('.card').forEach(card=>{
        const title = (card.querySelector('h3')||{textContent:''}).textContent.toLowerCase();
        card.style.display = title.includes(q) ? 'block' : 'none';
      });
    });

    // Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ
    document.querySelectorAll('.cat-item').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        document.querySelectorAll('.cat-item').forEach(x=>x.classList.remove('active'));
        btn.classList.add('active');
        render(btn.dataset.cat);
      });
    });

    // Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡
    render();
  });
  </script>
</body>
</html>
